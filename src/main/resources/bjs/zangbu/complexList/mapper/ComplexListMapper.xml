<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="bjs.zangbu.complexList.mapper.ComplexListMapper">
    <!-- 단지 정보 삽입 쿼리 -->
<insert id="createComplexList">
    INSERT INTO complex_list (
        res_type,
        complex_name,
        complex_no,
        sido,
        sigungu,
        si_code,
        eupmyeondong,
        transaction_id,
        address,
        zonecode,
        building_name,
        bname
    )
    VALUES (
               #{resType},
               #{complexName},
               #{complexNo},
               #{sido},
               #{sigungu},
               #{siCode},
               #{eupmyeondong},
               #{transactionId},
               #{address},
               #{zonecode},
               #{buildingName},
               #{bname}
           )
    <!--
    삽입 후 방금 생성된 complex_id 값을 가져와
    ComplexList 객체의 complexId 필드에 설정함
    -->
    <selectKey
            resultType="Long"
            keyProperty="complexId"
            keyColumn="complex_id"
            order="AFTER"
    >
        SELECT LAST_INSERT_ID()
    </selectKey>
</insert>
</mapper>
